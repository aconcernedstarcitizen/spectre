# Specter - RSI Store Automated Checkout Configuration
# This file controls how the program behaves during checkout

# ============================================================================
# BASIC SETTINGS
# ============================================================================

# The URL of the ship/item you want to purchase
# URL must have "/pledge/Standalone-Ships/" in it, e.g. it must be the ship SALE page, NOT the ship INFO page.
# Example: "https://robertsspaceindustries.com/en/pledge/Standalone-Ships/Idris-P"
# Leave empty to specify via command line: ./specter --url "..."
item_url: "https://robertsspaceindustries.com/en/pledge/Standalone-Ships/Idris-P"

# Browser settings
browser_profile_path: ""  # Leave empty to use default location (~/.specter/browser-profile)
browser_type: chrome      # chrome, edge, or firefox
headless: false           # Set to true to hide the browser window
keep_browser_open: true   # Keep browser open after completion (useful for verification)

# ============================================================================
# RETRY & TIMING SETTINGS (for limited ship sales)
# ============================================================================

# Delay between retry attempts (in milliseconds)
# These create human-like, variable delays to avoid detection
# Default: 29-107ms (randomized between these values)
retry_delay_min_ms: 29
retry_delay_max_ms: 107

# ============================================================================
# reCAPTCHA CONFIGURATION
# ============================================================================

# reCAPTCHA v3 Enterprise Configuration
# Required for limited edition ship sales to bypass bot detection
# Site key for RSI store (do not change unless RSI updates their system)
recaptcha_site_key: "6LerBOgUAAAAAKPg6vsAFPTN66Woz-jBClxdQU-o"

# reCAPTCHA action for add to cart (do not change)
recaptcha_action: "store/cart/add"

# ============================================================================
# AUTOMATED SALE WAVE CONFIGURATION
# ============================================================================
# The app uses an automated multi-wave system:
# - Syncs time with reliable time servers for accuracy
# - Waits for each configured sale window
# - Polls for product page availability before each wave
# - Attempts checkout during each wave
# - Moves to next wave if checkout fails
# - Exits gracefully after successful purchase

# List of sale windows in UTC timezone
# REQUIRED: You must configure at least one sale window
# Format: "YYYY-MM-DD HH:MM" (24-hour format, UTC timezone)
sale_windows:
   # IAE 2955 example: Constellation Phoenix
   - "2025-11-20 16:00"
   - "2025-11-20 20:00"
   - "2025-11-21 00:00"
   - "2025-11-21 04:00"
   - "2025-11-21 08:00"
   - "2025-11-21 12:00"
  # IAE 2955 example: 890 Jump
   - "2025-11-21 16:00"
   - "2025-11-21 20:00"
   - "2025-11-22 00:00"
   - "2025-11-22 04:00"
   - "2025-11-22 08:00"
   - "2025-11-22 12:00"
  # IAE 2955 example: Kraken, Kraken Privateer
   - "2025-11-22 16:00"
   - "2025-11-22 20:00"
   - "2025-11-23 00:00"
   - "2025-11-23 04:00"
   - "2025-11-23 08:00"
   - "2025-11-23 12:00"
  # IAE 2955 example: Hull E
   - "2025-11-24 16:00"
   - "2025-11-24 20:00"
   - "2025-11-25 00:00"
   - "2025-11-25 04:00"
   - "2025-11-25 08:00"
   - "2025-11-25 12:00"
  # IAE 2955 example: Pioneer
   - "2025-11-26 16:00"
   - "2025-11-26 20:00"
   - "2025-11-27 00:00"
   - "2025-11-27 04:00"
   - "2025-11-27 08:00"
   - "2025-11-27 12:00"
  # IAE 2955 example: Idris-P, Javelin
   - "2025-11-28 16:00"
   - "2025-11-28 20:00"
   - "2025-11-29 00:00"
   - "2025-11-29 04:00"
   - "2025-11-29 08:00"
   - "2025-11-29 12:00"

# Minutes before wave to start polling for product page availability
# The app will check if the product page returns 200 (not 404)
# Default: 2 minutes before wave start
pre_wave_activation_minutes: 2

# Minutes after wave to continue attempting checkout before moving to next wave
# If checkout fails, app will keep trying for this many minutes
# Default: 5 minutes after wave start
post_wave_timeout_minutes: 5

# Milliseconds delay between polling attempts for product page availability
# These create variable delays during pre-wave polling to avoid detection
# Default: 29-139ms (randomized between these values)
polling_delay_min_ms: 29
polling_delay_max_ms: 139

# ============================================================================
# CHECKOUT SETTINGS
# ============================================================================

# Automatically apply store credit to purchase
# Set to false if you want to pay with credit card
auto_apply_credit: true

# Skip adding to cart (useful if item is already in your cart)
# Set to true if you're retrying a failed checkout
skip_add_to_cart: false

# ============================================================================
# TESTING & DEBUG
# ============================================================================

# Dry run mode: stops before final purchase (for testing)
dry_run: false

# Debug mode: shows detailed technical information
debug_mode: false

# ============================================================================
# ADVANCED SETTINGS (usually don't need to change these)
# ============================================================================

page_load_timeout: 30      # Seconds to wait for pages to load
min_delay_between: 0.5     # Minimum delay between actions (seconds)
max_delay_between: 1.0     # Maximum delay between actions (seconds)
checkout_ready_delay: 2    # Seconds to wait before starting checkout

# CSS Selectors (only change if RSI updates their website)
selectors:
    add_to_cart_button: .m-storeAction__button
    cart_icon: .a-button__icon
    checkout_button: .checkout-button, .btn-checkout, button:contains('Checkout')
    apply_credit_button: .apply-credit, .store-credit, button:contains('Apply Credit')
    agree_checkbox: input[type='checkbox'][name*='agree'], input[type='checkbox'][name*='terms']
    final_checkout_button: .final-checkout, .confirm-order, button:contains('Confirm')
